## 主页接口

1. **获取热门商品（轮播）**
   - 接口：`GET localhost:8080/api/products/hot`
   - 描述：获取首页轮播展示的热门商品
   - 参数：`limit`（可选，默认5）
   - 返回：轮播商品数组，包含id、name、image、price、description
2. **获取分类数据**
   - 接口：`GET localhost:8080/api/category/categories`
   - 描述：获取所有商品分类（用于导航栏）
   - 返回：分类数组，包含id、name、subCategories（子分类数组）
3. **获取分类热门商品**
   - **后端接口**：`localhost:8080/api/products/categories/hot`
   - 描述：获取指定分类的热门商品
   - 参数：`limit`（可选，默认4）
   - 返回：分类热门商品数组
4. **搜索商品**（先不做）
   - 接口：`GET /api/products/search`
   - 描述：根据关键词搜索商品
   - 参数：
     - `keyword`：搜索关键词
     - `page`：当前页码（默认1）
     - `pageSize`：每页数量（默认10）
   - 返回：商品列表和分页信息

## 用户认证接口（加盐哈希加密）

1. **用户登录**
   - 接口：`POST http://localhost:8080/api/user/login`
   - 描述：用户登录并获取token（支持用户名或手机号登录）
   - 加密方式：密码使用加盐哈希SHA256加密
   - 参数：
     ```json
     // 用户名登录
     {
       "username": "user123", 
       "password": "hashedPassword",  // 已用SHA256加盐哈希处理的密码
       "salt": "randomSalt"           // 客户端生成的随机盐值
     }
     
     // 手机号登录
     {
       "phone": "13812345678", 
       "password": "hashedPassword",  // 已用SHA256加盐哈希处理的密码
       "salt": "randomSalt"           // 客户端生成的随机盐值
     }
     ```
   - 返回：
     ```json
     {
       "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6...",
       "userId": 12345,
       "username": "user123"
     }
     ```

2. **用户注册**
   - 接口：`POST localhost:8080/api/user/register`
   - 描述：注册新用户
   - 加密方式：密码使用加盐哈希SHA256加密
   - 参数：
     ```json
     {
         "username": "admin2",
         "password": "123456",
         "email": "admin@example.com",
         "phone": "13888345678",
         "verifyCode": "123456"
     }
     ```
   - 返回：注册成功状态和用户基本信息

3. **获取用户信息（当前登录用户信息）**

   - 接口：`GET http://localhost:8080/api/user/info`
   - 描述：获取当前登录用户信息
   - 请求头：`Authorization: Bearer {token}`
   - 返回：用户详细信息

4. **更新用户信息**(除密码外)

   - 接口：`PUT localhost:8080/api/user/updateUser`
   - 描述：更新当前登录用户信息
   - 请求头：`Authorization: Bearer {token}`
   - 参数：

   ```json
   {
     "userId": 2,
     "username": "3new",
     "email": "new@example.com",
     "phone": "1234567890"
   }
   ```

   - 返回：用户详细信息

5. **更新用户密码**

   - 接口：`PUT localhost:8080/api/user/updatePassword?userId=6&oldPassword=234567&newPassword=123456`
   - 描述：更新当前登录用户信息
   - 请求头：`Authorization: Bearer {token}`

   - 返回：用户详细信息

6. **根据id删除用户**

   - 接口：`DELETE localhost:8080/api/user/delete/1`
   - 描述：更新当前登录用户信息
   - 请求头：`Authorization: Bearer {token}`

   - 返回：用户详细信息

7. **获取所有用户**

   - 接口：`GET http://localhost:8080/api/user/selectAll`
   - 描述：获取所有用户信息
   - 请求头：`Authorization: Bearer {token}`
   - 返回：用户详细信息





## 密码密说明

前端使用双重SHA256哈希加盐策略保护密码：

1. **加密流程**：
   ```javascript
   // 第一次哈希 - 纯密码
   const firstHash = CryptoJS.SHA256(password).toString();
   
   // 第二次哈希 - 加盐
   const secondHash = CryptoJS.SHA256(firstHash + salt).toString();
   ```

2. **安全措施**：
   - 客户端生成随机盐值（16个字符）
   - 对密码进行两次SHA256哈希处理，第二次加入盐值
   - 发送哈希密码和盐值到服务器
   - 服务器存储哈希密码和盐值（不存储原密码）

3. **后端验证**：
   - 服务器检索用户对应的盐值
   - 使用相同的加盐哈希算法验证提交的密码

## 购物车接口

1. **获取购物车数量**
   - 接口：`GET /api/cart/count`
   - 描述：获取当前用户购物车商品总数
   - 请求头：`Authorization: Bearer {token}`
   - 返回：`{ "count": 5 }`

2. **获取购物车列表**
   - 接口：`GET /api/cart`
   - 描述：获取购物车商品列表
   - 请求头：`Authorization: Bearer {token}`
   - 返回：购物车商品数组

## 数据响应格式

所有接口统一返回格式：
```json
{
  "code": 200,       // 状态码，200成功，其他为错误
  "message": "成功",  // 状态描述
  "data": {          // 业务数据
    // 具体业务数据
  }
}
```

## 错误处理

1. 401: 未授权/token无效
2. 403: 权限不足
3. 404: 资源不存在（失败响应，无数据）
4. 422: 请求参数错误
5. 500: 服务器错误
6. 200: OK成功